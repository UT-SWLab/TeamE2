{% extends 'base.html' %}
{% block head %}
{% endblock %}
{% block body %}
<!--
    Requirements:
    - Picture Carousel
    - Beautfil and visually appealing
    - Contains means of navigating among pages
    WIP:
    - Funny statistis
    - Live race feed if possible
    - What it does
    - When the next grand Pri is
    - how to navigate
    - 1s/2nd/3rd plae winners
    - fatest lap
    - winning team
    - champion in the lead
    
-->
    <div class="jumbotron text-center mb-0">
        <h1>Formula 1 DB</h1>
        <p>The number 1 source for formula 1 information</p>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-8">
                <div class="row">
                    <h1 class="text-center"> </h1>
                </div>
                <div class="row">
                    <div class="container-fluid">
                        <h1 class="text-center">Upcoming Races in {{ year }}</h1>
                    </div>
                    {% if recentRaces is defined and recentRaces %}
                    <div class="container text-center">
                      {% for race in recentRaces %}
                        <p> {{ race['name'] }}</p>
                      {% endfor %}
                    </div>
                    {% endif %}
                </div>
                <div class="row">
                  <div class="container-fluid">
                    <h1 class="text-center">Driver {{ year }} Season standings</h1>
                  </div>
                  {% if driverSeasonStandings is defined and driverSeasonStandings %}
                  <div class="container text-center">
                    {% for driver in driverSeasonStandings %}
                      <p>{{ driver[0]}}   {{ driver[1] }}</p>
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
                <div class="row">
                  <div class="container-fluid">
                    <h1 class="text-center">Constructor {{ year }} Season Standings</h1>
                  </div>
                  {% if constructorSeasonStandings is defined and constructorSeasonStandings %}
                  <div class="container text-center">
                    {% for constructor in constructorSeasonStandings %}
                      <p>{{ constructor[0] }}  {{ constructor[1] }}</p>
                    {% endfor %}
                  </div>
                  {% endif %}
                </div>
            </div>
            <div class="col-4">
                <div class="container mb-3">
                    <h2 class="text-center mt-3">Drivers Born in {{ monthName }}</h2>
                    {% if monthDrivers %}
                    <div id="monthCarousel" class="carousel slide" data-ride="carousel">
                      <!-- The slideshow -->
                      <div class="carousel-inner">
                        {% for driver in monthDrivers %}
                        {% if loop.index == 1%}
                          <div class="carousel-item active text-center">
                            <img src="{{ url_for('static' , filename = driver['image_path']) }}" href="/drivers?id={{driver['driverId']}}">
                          </div>
                        {% else %}
                        <div class="carousel-item text-center">
                          <img src="{{ url_for('static' , filename = driver['image_path']) }}" href="/drivers?id={{driver['driverId']}}">
                        </div>
                        {% endif %}
                        {% endfor %}  
                      <div>
                          <!-- Left and right controls -->
                          <a class="carousel-control-prev" href="#monthCarousel" data-slide="prev">
                              <span class="carousel-control-prev-icon bg-dark"></span>
                          </a>
                          <a class="carousel-control-next" href="#monthCarousel" data-slide="next">
                              <span class="carousel-control-next-icon bg-dark"></span>
                          </a>
                      </div>
                    </div>
                  {% endif %}
                </div>
                <div class="container mb-3">

                  <h2 class="text-center mt-3">Popular Drivers</h2>
                  {% if popularDrivers %}
                  <div id="popularDriverCarousel" class="carousel slide" data-ride="carousel">
                    <!-- The slideshow -->
                    <div class="carousel-inner">
                      {% for driver in popularDrivers %}
                      {% if loop.index == 1%}
                        <div class="carousel-item active text-center">
                          <img src="{{ url_for('static' , filename = driver['image_path']) }}" href="/drivers?id={{driver['driverId']}}">
                        </div>
                      {% else %}
                      <div class="carousel-item text-center">
                        <img src="{{ url_for('static' , filename = driver['image_path']) }}" href="/drivers?id={{driver['driverId']}}">
                      </div>
                      {% endif %}
                      {% endfor %}  
                    <div>
                        <!-- Left and right controls -->
                        <a class="carousel-control-prev" href="#popularDriverCarousel" data-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark"></span>
                        </a>
                        <a class="carousel-control-next" href="#popularDriverCarousel" data-slide="next">
                            <span class="carousel-control-next-icon bg-dark"></span>
                        </a>
                      </div>
                    </div>
                  {% endif %}  
                </div>
                <div class="container mb-3">
                  {% if popularCircuits %}
                  <h2 class="text-center mt-3">Popular Circuits</h2>
                  
                  <div id="historyCarousel" class="carousel slide" data-ride="carousel">
                    <!-- The slideshow -->
                    <div class="carousel-inner">
                      {% for circuit in popularCircuits %}
                      {% if loop.index == 1%}
                        <div class="carousel-item active text-center">
                          <img src="{{ url_for('static' , filename = circuit['image_path']) }}" href="/circuits?id={{circuit['circuitId']}}">
                        </div>
                      {% else %}
                      <div class="carousel-item text-center">
                        <img src="{{ url_for('static' , filename = circuit['image_path']) }}" href="/circuits?id={{circuit['circuitId']}}">
                      </div>
                      {% endif %}
                      {% endfor %}  
                    <div>
                        <!-- Left and right controls -->
                        <a class="carousel-control-prev" href="#historyCarousel" data-slide="prev">
                            <span class="carousel-control-prev-icon bg-dark"></span>
                        </a>
                        <a class="carousel-control-next" href="#historyCarousel" data-slide="next">
                            <span class="carousel-control-next-icon bg-dark"></span>
                        </a>
                      </div>
                    </div>
                  {% endif %}  
                </div>
            </div>
        </div>
    </div>
    </body>
  {% endblock %}  
